# health-check
CI/CD test
[STEP 01]웹 서버 생성
* Project 생성 및 Health-Check router 구현
  - Spring Boot Actuator 사용(endpoint : /actuator/health)
- 서버 스택
    - [JVM]Java Spring Boot
- Phase
  - dev : 개발 (8181)
  - stg : QA (8282)
  - prod : 운영 (8888)
 
[STEP 02]빌드 환경 구축
* Docker 파일 작성 및 GitHub Actions 작성
- 설정 버전
  -Springboot version '2.7.18'
  -Spring dependency-management version '1.1.4'
  -Gradle version 8.5
  -java version 11\
- Docker
  - Expose Port : 3000
  - 환경 변수 SPRING_PROFILES_ACTIVE 설정
- Github Actions
  - runs-on: ubuntu-latest
  - trigger : tag push시 build
- run_application.sh 작성
  - tag명 "*.main-health-check"이면, SPRING_PROFILES_ACTIVE=prod
  - tag명 "*.stage-health-check"이면, SPRING_PROFILES_ACTIVE=stg
  - SPRING_PROFILES_ACTIVE이 비어있을 경우, SPRING_PROFILES_ACTIVE=dev(local)

[STEP 03]배포 환경 구축

# 전자상거래 주문 서비스
이 프로젝트는 사용자가 제품을 탐색하고, 주문을 하며, 선불된 자금을 사용하여 결제할 수 있는 간단하면서도 견고한 전자상거래 주문 서비스를 구현합니다. 또한 판매 데이터를 기반으로 인기 있는 항목을 발견할 수 있도록 합니다.

## 설명
이 서비스는 사용자가 여러 제품을 주문하고 선불 잔액을 사용하여 결제할 수 있도록 하여 원활한 쇼핑 경험을 제공합니다. 판매 데이터를 기반으로 가장 인기 있는 제품을 추천하는 기능을 통해 사용자 참여와 판매를 높입니다.

## 기능
- **제품 탐색**: 사용자는 제품의 ID, 이름, 가격, 재고 정보를 볼 수 있습니다.
- **주문 및 결제**: 사용자는 여러 제품을 선택하고 주문 및 선불 잔액을 사용하여 결제할 수 있습니다.
- **잔액 관리**: 사용자는 계정 잔액을 충전하고 확인할 수 있어 거래 과정이 원활하게 진행됩니다.
- **인기 제품 추천**: 서비스는 최근 판매 데이터를 기반으로 가장 많이 팔린 제품을 추천하여 소비자의 선호도에 대한 통찰력을 제공합니다.

## 요구 사항
프로젝트는 다음 요구 사항을 준수합니다:

- **API 구현**:
  - 잔액 충전/조회
  - 제품 조회
  - 주문/결제 처리
  - 인기 판매 제품 조회
- **단위 테스트**: 각 기능에는 신뢰성과 성능을 보장하기 위해 최소한 하나의 단위 테스트가 포함됩니다.
- **동시성 처리**: 애플리케이션이 여러 인스턴스에서 작동하더라도 기능성이 손상되지 않도록 설계되었습니다.
- **재고 관리**: 주문 오류를 방지하기 위해 적절한 재고 관리가 구현되었습니다.

## API 명세
### 1. 잔액 충전/조회 API
- 사용자가 계정을 충전하고 현재 잔액을 조회할 수 있습니다.
- 사용자 ID와 충전 금액을 입력으로 받습니다.

### 2. 제품 조회 API
- 제품의 ID, 이름, 가격, 재고 정보를 제공합니다.
- 조회 시점의 제품별 재고 수량의 정확성을 보장합니다.

### 3. 주문/결제 API
- 사용자 ID와 제품 ID 및 수량 목록을 입력받아 주문 및 결제를 처리합니다.
- 선불 잔액을 기준으로 결제가 이루어지며, 성공 시 잔액에서 차감됩니다.
- 분석을 위해 결제 성공 시 실시간으로 주문 정보를 데이터 플랫폼에 전송합니다.

### 4. 인기 판매 제품 조회 API
- 지난 3일간 가장 많이 판매된 상위 5개 제품 정보를 제공합니다.
- 소비자 선호도에 대한 통찰력을 제공합니다.

## 핵심 포인트
- **잔액 및 재고 관리의 정확성**: 사용자 잔액과 제품 재고를 정확하게 처리하여 거래 오류를 방지합니다.
- **동시성**: 동시에 여러 주문을 효과적으로 관리하여 데이터의 무결성과 일관성을 유지합니다.

## 시작하기
로컬에서 프로젝트를 설정하려면 다음 단계를 따르십시오:
1. 저장소를 복제합니다.
2. 필요한 종속성을 설치합니다.
3. 설정 지침에 따라 환경 변수를 설정합니다.
4. 애플리케이션을 실행합니다.

## 테스트
모든 구성 요소가 올바르게 작동하는지 확인하기 위해 제공된 단위 테스트를 실행합니다.